@model RDVViewModel
@{
    ViewData["Title"] = "Récapitulatif";
}

<div class="container">
    <h1>Prendre rendez-vous</h1>
    <h2>3 - Récapitulatif</h2>

    @using (Html.BeginForm("ValidRDV", "Appointment", FormMethod.Post))
        {
        <h2>Date et heure du RDV:</h2>
        @Model.At

        <h2>Durée :</h2>
        @(TimeSpan.FromMinutes(Model.Prestation.Sum(p => p.Duration)))

        <h2>Prestation : </h2>

        @foreach (var presta in Model.Prestation)
            {
            <p>@presta.Name</p>
            <p>@presta.Price €</p>
            }

        @*Il faut aussi calculer les prestations entre elles pour le total*@
        <h2>Montant dûe : @Model.Prestation.Sum(p => p.Price).ToString("C")</h2>

        <button class="btn btn-success" type="submit">Valider</button>

        }
</div>
